<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        Unfiltered: Automatic Identification and Inversion of Social Media Photography Filters - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{font-size:16px;padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\00a0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.markdown-body kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram{text-align:center;background-color:inherit;border-radius:0;white-space:inherit}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.MJX_Assistive_MathML{display:none}.ui-infobar{position:relative;z-index:2;max-width:760px;margin:25px auto -25px;padding:0 15px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:998}.ui-toc-label{opacity:.3;background-color:#ccc;border:none;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:23px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child > ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}.ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}.markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}.ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}.markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}.ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:3px;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:contain}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;font-family:Source Sans Pro,Helvetica,Arial,sans-serif;letter-spacing:.025em}.focus,:focus{outline:none!important}::-moz-focus-inner{border:0!important}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" style="position: relative;"><h1 id="Unfiltered-Automatic-Identification-and-Inversion-of-Social-Media-Photography-Filters"><a class="anchor hidden-xs" href="#Unfiltered-Automatic-Identification-and-Inversion-of-Social-Media-Photography-Filters" title="Unfiltered-Automatic-Identification-and-Inversion-of-Social-Media-Photography-Filters"><span class="octicon octicon-link"></span></a>Unfiltered: Automatic Identification and Inversion of Social Media Photography Filters</h1><p><strong>Mert Dumenci, Cem Gokmen, Chunlok Lo, Joel Ye</strong><br>
CS4476 Term Project, Fall 2018<br>
Georgia Tech</p><h2 id="Abstract"><a class="anchor hidden-xs" href="#Abstract" title="Abstract"><span class="octicon octicon-link"></span></a>Abstract</h2><p>Given the prevalence of photo editing and filtering on popular social media platforms such as Snapchat and Instagram, it is becoming more and more difficult for users to identify how the content that they consume everyday have been modified from their original form. Since filtering has become so common, the goal of this project is to give users a means to identify how photos on these platforms are edited and to present a plausible reconstruction of source content.</p><p>We propose an end-to-end system that will take an image from the user, identify probabilities for which common image filters were applied to the image, and apply the most likely filter inverse. We present both the filter probabilities and the inverted image to the user. For filter identification, we utilize a convolutional neural network to determine a probability vector for possibly applied filters. For filter inversion, we model an inverse convolution kernel for each pre-defined filter using a neural network and apply the convolution over the image to obtain the inverted image.</p><p>Using our approach with a convolutonal neural network, we can identify a filter applied to an image (from our predefined set of six Instagram filters) while distinguishing it from natural (unfiltered) images with an accuracy of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1743-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>95.5</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8227" style="width: 2.998em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.482em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1002.43em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8228"><span class="mn" id="MathJax-Span-8229" style="font-family: STIXGeneral-Regular;">95.5</span><span class="mi" id="MathJax-Span-8230" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>95.5</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1743">95.5\%</script></span>.</p><p>Let <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1744-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mo stretchy=&quot;false&quot;>(</mo><mi>I</mi><mo>,</mo><msup><mi>I</mi><mo>&amp;#x2032;</mo></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8231" style="width: 3.515em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.895em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.552em, 1002.84em, 2.792em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8232"><span class="mi" id="MathJax-Span-8233" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-8234" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-8235" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mo" id="MathJax-Span-8236" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-8237" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 0.777em; height: 0px;"><span style="position: absolute; clip: rect(3.153em, 1000.36em, 4.135em, -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-8238" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.336em; left: 0.467em;"><span class="mo" id="MathJax-Span-8239" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-8240" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mo stretchy="false">(</mo><mi>I</mi><mo>,</mo><msup><mi>I</mi><mo>′</mo></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-1744">E(I, I')</script></span> be the average per-pixel mean of the sum absolute differences in intensity across all color channels of images <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1745-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>I</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8241" style="width: 0.467em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.364em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.36em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8242"><span class="mi" id="MathJax-Span-8243" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-1745">I</script></span> and <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1746-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>I</mi><mo>&amp;#x2032;</mo></msup></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8244" style="width: 0.932em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.777em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.242em, 1000.78em, 2.327em, -999.997em); top: -2.167em; left: 0em;"><span class="mrow" id="MathJax-Span-8245"><span class="msup" id="MathJax-Span-8246"><span style="display: inline-block; position: relative; width: 0.777em; height: 0px;"><span style="position: absolute; clip: rect(3.153em, 1000.36em, 4.135em, -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-8247" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.336em; left: 0.467em;"><span class="mo" id="MathJax-Span-8248" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.172em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>I</mi><mo>′</mo></msup></math></span></span><script type="math/tex" id="MathJax-Element-1746">I'</script></span> (Equation 1). For inverting images given a known filter, we are able to obtain a pseudo-inverse of the image with an average error <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1747-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8249" style="width: 0.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.622em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.62em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8250"><span class="mi" id="MathJax-Span-8251" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi></math></span></span><script type="math/tex" id="MathJax-Element-1747">E</script></span> of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1748-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1.0</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8252" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8253"><span class="mn" id="MathJax-Span-8254" style="font-family: STIXGeneral-Regular;">1.0</span><span class="mi" id="MathJax-Span-8255" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.0</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1748">1.0\%</script></span>.</p><p>Our end-to-end system detected and inverted filters with an average error <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1749-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8256" style="width: 0.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.622em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.62em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8257"><span class="mi" id="MathJax-Span-8258" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi></math></span></span><script type="math/tex" id="MathJax-Element-1749">E</script></span> of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1750-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1.7</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8259" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8260"><span class="mn" id="MathJax-Span-8261" style="font-family: STIXGeneral-Regular;">1.7</span><span class="mi" id="MathJax-Span-8262" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.7</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1750">1.7\%</script></span> between our output image and the original unfiltered version. In comparison, the baseline error <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1751-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8263" style="width: 0.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.622em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.62em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8264"><span class="mi" id="MathJax-Span-8265" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi></math></span></span><script type="math/tex" id="MathJax-Element-1751">E</script></span> between filtered and unfiltered images was found to be <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1752-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>8.4</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8266" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8267"><span class="mn" id="MathJax-Span-8268" style="font-family: STIXGeneral-Regular;">8.4</span><span class="mi" id="MathJax-Span-8269" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.4</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1752">8.4\%</script></span> while our previous approach using color histograms achieved <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1753-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>5.5</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8270" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8271"><span class="mn" id="MathJax-Span-8272" style="font-family: STIXGeneral-Regular;">5.5</span><span class="mi" id="MathJax-Span-8273" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5.5</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1753">5.5\%</script></span>.</p><h2 id="Teaser-Image"><a class="anchor hidden-xs" href="#Teaser-Image" title="Teaser-Image"><span class="octicon octicon-link"></span></a>Teaser Image</h2><p><img src="https://github.com/team-vision2020/team-vision2020.github.io/blob/master/images/teaser.png?raw=true" alt=""></p><h2 id="Introduction"><a class="anchor hidden-xs" href="#Introduction" title="Introduction"><span class="octicon octicon-link"></span></a>Introduction</h2><p>Filtered photos have become ubiquitous on social media platforms such as Snapchat, Instagram, Flickr, and more. To the casual viewer, filters can be hard to detect. Their intentional subtlety makes it hard to distinguish between filtered and unfiltered images on social media. This can lead to distorted perceptions of natural images, skewing expectations about natural appearances. We hope this project will help bring more transparency into how images are often edited by identifying whether a common image filter has been applied to an image, and expose users to the natural state of these images. We believe that transparency in the image editing process is important in raising awareness about deliberate modifications to perceptions of reality, and hope to allow viewers to enjoy edited content while being aware of their modifications.</p><p>Not to be confused with filters in the computer vision setting, which are generally used in image preprocessing, filters in the social media setting describe a predefined set of modifications to an image that attempts enhance its perceptual appeal. Most commonly, these filters come in the form of color balance adjustments and can be represented as tweaks to the color curves of an RGB image. A color curve <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-341-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo>:</mo><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo>,</mo><mn>255</mn><mo stretchy=&quot;false&quot;>]</mo><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo>,</mo><mn>255</mn><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1747" style="width: 11.056em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.145em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1009.04em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1748"><span class="mi" id="MathJax-Span-1749" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span class="mo" id="MathJax-Span-1750" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">:</span><span class="mo" id="MathJax-Span-1751" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">[</span><span class="mn" id="MathJax-Span-1752" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-1753" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1754" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">255</span><span class="mo" id="MathJax-Span-1755" style="font-family: STIXGeneral-Regular;">]</span><span class="mo" id="MathJax-Span-1756" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">→</span><span class="mo" id="MathJax-Span-1757" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">[</span><span class="mn" id="MathJax-Span-1758" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-1759" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1760" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">255</span><span class="mo" id="MathJax-Span-1761" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo>:</mo><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mn>255</mn><mo stretchy="false">]</mo><mo stretchy="false">→</mo><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mn>255</mn><mo stretchy="false">]</mo></math></span></span><script type="math/tex" id="MathJax-Element-341">f: [0, 255] \to [0, 255]</script></span> is a continuous function that remaps the intensities in each color channel. Modification to the color curve allows the user to non-uniformly boost or decrease color intensities at varying ranges to create various effects such as increasing contrast or creating color shifts (figure below demonstrates a boost of blues in shadows while decreasing blues in highlights.)</p><p>Some filters also include additional effects such as blurring/sharpening using convolution kernels, the addition of borders, and the application of vignette darkening at the edges.</p><table>
<thead>
<tr>
<th style="text-align:center">Before filtering</th>
<th style="text-align:center">After filtering</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://team-vision2020.github.io/images/ampitheatre_before.jpg" alt=""> <br> <em>Original Image</em></td>
<td style="text-align:center"><img src="https://team-vision2020.github.io/images/ampitheatre_after.jpg" alt=""> <br> <em>Filtered Image</em></td>
</tr>
<tr>
<td style="text-align:center"><img src="https://team-vision2020.github.io/images/curve.JPG" alt=""> <br> <em>Color Curve Before Filtering</em></td>
<td style="text-align:center"><img src="https://team-vision2020.github.io/images/curveAfter.JPG" alt=""> <br> <em>Color Curve After Filtering</em></td>
</tr>
</tbody>
</table><p>For the purposes of this project, we limit our scope and define a filter as a pair <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-342-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo>,</mo><mi>g</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1762" style="width: 2.534em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.069em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.02em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1763"><span class="mo" id="MathJax-Span-1764" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1765" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span class="mo" id="MathJax-Span-1766" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-1767" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">g</span><span class="mo" id="MathJax-Span-1768" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>f</mi><mo>,</mo><mi>g</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-342">(f, g)</script></span> where <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-343-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo>:</mo><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>R</mi></mrow><mn>3</mn></msup><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>R</mi></mrow><mn>3</mn></msup></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1769" style="width: 6.408em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.271em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.449em, 1005.27em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1770"><span class="mi" id="MathJax-Span-1771" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span class="mo" id="MathJax-Span-1772" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">:</span><span class="msubsup" id="MathJax-Span-1773" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.191em; height: 0px;"><span style="position: absolute; clip: rect(3.153em, 1000.73em, 4.135em, -999.997em); top: -3.975em; left: 0em;"><span class="texatom" id="MathJax-Span-1774"><span class="mrow" id="MathJax-Span-1775"><span class="mi" id="MathJax-Span-1776" style="font-family: STIXGeneral-Regular;">ℝ</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.726em;"><span class="mn" id="MathJax-Span-1777" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-1778" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">→</span><span class="msubsup" id="MathJax-Span-1779" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.191em; height: 0px;"><span style="position: absolute; clip: rect(3.153em, 1000.73em, 4.135em, -999.997em); top: -3.975em; left: 0em;"><span class="texatom" id="MathJax-Span-1780"><span class="mrow" id="MathJax-Span-1781"><span class="mi" id="MathJax-Span-1782" style="font-family: STIXGeneral-Regular;">ℝ</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.726em;"><span class="mn" id="MathJax-Span-1783" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.441em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo>:</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mn>3</mn></msup><mo stretchy="false">→</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mn>3</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-343">f: \mathbb{R}^3 \rightarrow \mathbb{R}^3</script></span> is a function that maps every individual color (consisting of 3 channels each with a real value in the <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-344-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1784" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.02em, 2.792em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1785"><span class="mo" id="MathJax-Span-1786" style="font-family: STIXGeneral-Regular;">[</span><span class="mn" id="MathJax-Span-1787" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-1788" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-1789" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">1</span><span class="mo" id="MathJax-Span-1790" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span><script type="math/tex" id="MathJax-Element-344">[0, 1]</script></span> range) to some color in the same range, and <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-345-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>g</mi><mo>&amp;#x2208;</mo><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>R</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn></mrow></msup></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1791" style="width: 4.6em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.773em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.449em, 1003.77em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1792"><span class="mi" id="MathJax-Span-1793" style="font-family: STIXGeneral-Italic;">g</span><span class="mo" id="MathJax-Span-1794" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">∈</span><span class="msubsup" id="MathJax-Span-1795" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.965em; height: 0px;"><span style="position: absolute; clip: rect(3.153em, 1000.73em, 4.135em, -999.997em); top: -3.975em; left: 0em;"><span class="texatom" id="MathJax-Span-1796"><span class="mrow" id="MathJax-Span-1797"><span class="mi" id="MathJax-Span-1798" style="font-family: STIXGeneral-Regular;">ℝ</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.726em;"><span class="texatom" id="MathJax-Span-1799"><span class="mrow" id="MathJax-Span-1800"><span class="mn" id="MathJax-Span-1801" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-1802" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">×</span><span class="mn" id="MathJax-Span-1803" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.441em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>g</mi><mo>∈</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>×</mo><mn>3</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-345">g \in \mathbb{R}^{3 \times 3}</script></span> is a convolution kernel that can be used for blurring and sharpening among other effects. We assume that a filter is applied first by passing each pixel of an image through <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-346-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1804" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.42em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1805"><span class="mi" id="MathJax-Span-1806" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi></math></span></span><script type="math/tex" id="MathJax-Element-346">f</script></span>, and then convolving the image with <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-347-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>g</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1807" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em, 1000.47em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1808"><span class="mi" id="MathJax-Span-1809" style="font-family: STIXGeneral-Italic;">g</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>g</mi></math></span></span><script type="math/tex" id="MathJax-Element-347">g</script></span>, extending the edges by repeating the last row and column of pixels as to preserve the shape of the image.</p><p>While many commercial filters may also contain additional effects such as borders and vignettes, filters are mostly characterized by how they shift the color curves globally and their blur/sharpen/emboss effects. Therefore, for the scope of this project, we choose filters which do not have these additional effects.</p><p>Though our work relates to many other fields of computer vision, such as image denoising and brightening images, not much work directly focuses on end to end filter identification and inversion. One publication that we found for identification depends heavily on prior knowledge of the camera demosaicing algorithm which is not always readily available<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>.</p><p>In many of these settings, such as image denoising or brightening, the modifications applied to the image (noise, etc.) are either consistent across the dataset or are known a priori. Our task is different from this previous work as our filter functions are unknown, but we have examples of unfiltered and filtered images. Therefore, we decompose this task of filter inversion into two separate tasks: filter identification given an input image, and filter inversion given a known filter. Filter identification for an image is a classification task while filter inversion is a regression task estimating the filter inverses.</p><p>However, the task of filter identification has a similar formulation to the problem of source camera identification, where one attempts to identify the source camera of an image from a list of possible cameras. There have been several pieces of literature, especially in the field of digital forensics, that attempts to model sensor noise patterns explicitly and build correlations between noise patterns and camera source<sup class="footnote-ref"><a href="#fn1" id="fnref1:1">[1:1]</a></sup> but have failed to achieve high accuracy. However, several recent works have applied convolutional neural networks to the problem and achieved notable results<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup> <sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> <sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>. Because the problem formulation between source camera identification and filter identification is similar, we take inspiration from the approach of these recent papers and apply it to the context of filter identification. For filter inversion, we formalize our definition of filters and use a neural network to model the kernel of an inverse filter convolution function.</p><h2 id="Approach"><a class="anchor hidden-xs" href="#Approach" title="Approach"><span class="octicon octicon-link"></span></a>Approach</h2><p>Our approach splits the end-to-end task of filter inversion into two steps:</p><ul>
<li>Generate a probability vector for possible filters applied to a given image. (Filter identification)</li>
<li>With the image and the probability vector as inputs, apply a learned inverse filter onto the image to recover the unfiltered image. (Filter inversion)</li>
</ul><p>While there are infinitely many filters possible, popular social media platforms have a few pre-selected filters that are widely used. Therefore, we constrain the scope of our filter inversion by assuming input images were filtered at most once by a filter from a known set. To accurately model a real-world application, our list comprises of the following six popular Instagram filters:</p><p><img src="https://github.com/team-vision2020/final-update-md/blob/master/images/selected_filters.png?raw=true" alt=""></p><p>Given the scant amount of existing literature on the problem of filter identification, there are no established processes for filtering large numbers of images using commercial filters. We were prompted to create our own image filtering pipeline. Since Instagram filters are not available outside of their platform, we imitated these filters by manually specifying color curve adjustments for each filter. We referenced channel adjustment code from an online article <sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>, which uses <code>numpy</code> functions, specifically <code>linspace</code> and <code>interp</code>, to modify the color curves of each specific channel. We obtained curve parameters for each filter from an online reference<sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup> and passed them onto the channel adjustment code to create an imitation of commercial filters. We then run each imitation filter over our library of unfiltered images to create our dataset.</p><h3 id="Filter-Identification0"><a class="anchor hidden-xs" href="#Filter-Identification0" title="Filter-Identification0"><span class="octicon octicon-link"></span></a>Filter Identification</h3><p>Our approach to filter identification takes in an input image and outputs a probability vector for the possible filters applied to the input image. We utilize a neural network model to generate this probability vector from the input image.</p><p>As convolutional neural network architecture was able to obtain good results in the problem of source camera identification, we follow the architecture detailed in the paper by D. Freire-Obregon<sup class="footnote-ref"><a href="#fn2" id="fnref2:1">[2:1]</a></sup> and apply their technique to this problem space.</p><p>We utilize Keras<sup class="footnote-ref"><a href="#fn7" id="fnref7">[7]</a></sup> to create a convolutional neural network that takes in <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1757-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>32</mn><mo>&amp;#x00D7;</mo><mn>32</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8286" style="width: 5.839em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.806em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1004.75em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8287"><span class="mn" id="MathJax-Span-8288" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-8289" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8290" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">32</span><span class="mo" id="MathJax-Span-8291" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8292" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>32</mn><mo>×</mo><mn>32</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1757">32 \times 32 \times 3</script></span> images, pass them through two convolutional layers, one max pool layer, and two fully connected layers. We then pass this output through a softmax layer which provides us a probability vector of filter guesses. We use categorical cross-entropy loss function and the Adam optimizer <sup class="footnote-ref"><a href="#fn8" id="fnref8">[8]</a></sup> to train our neural network model.</p><p>Additionally, the network contains an activation layer after every single layer with the exception of the output softmax layer. We compared the use of ReLU and leaky ReLU<sup class="footnote-ref"><a href="#fn9" id="fnref9">[9]</a></sup> activation functions in our network. We found that leaky ReLU generally provided quicker training and higher accuracies hence our selection.</p><p>While many approaches described in camera source identification literature utilize regularization and dropout layers to reduce overfitting in the training process, we have found little evidence of overfitting in our network due to our large number of training examples (over 900k images). Therefore, we did not use any regularization and dropout layers instead saved models after each epoch and took the model at which validation accuracy is maximized and thus before overfitting occurs.</p><h4 id="Network-Architecture-Diagram22"><a class="anchor hidden-xs" href="#Network-Architecture-Diagram22" title="Network-Architecture-Diagram22"><span class="octicon octicon-link"></span></a>Network Architecture Diagram<sup class="footnote-ref"><a href="#fn2" id="fnref2:2">[2:2]</a></sup></h4><p><img src="https://raw.githubusercontent.com/team-vision2020/final-update-md/master/images/NNDiagram.JPG" alt=""></p><p>Our architecture is derived from the Obregon paper<sup class="footnote-ref"><a href="#fn2" id="fnref2:3">[2:3]</a></sup> with leaky ReLU activation layers after all non-output layers. We use 32 kernels for each convolutional layer which performed the best in our experiments.</p><p>Because the architecture presented in the paper only processes <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-349-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>32</mn><mo>&amp;#x00D7;</mo><mn>32</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1817" style="width: 5.839em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.806em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1004.75em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1818"><span class="mn" id="MathJax-Span-1819" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-1820" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-1821" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">32</span><span class="mo" id="MathJax-Span-1822" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-1823" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>32</mn><mo>×</mo><mn>32</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-349">32 \times 32 \times 3</script></span> images while our dataset and input consisted of larger images, we developed our own routines to divide our input image into separate <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-350-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>32</mn><mo>&amp;#x00D7;</mo><mn>32</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1824" style="width: 5.839em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.806em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1004.75em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1825"><span class="mn" id="MathJax-Span-1826" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-1827" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-1828" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">32</span><span class="mo" id="MathJax-Span-1829" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-1830" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>32</mn><mo>×</mo><mn>32</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-350">32 \times 32 \times 3</script></span> patches. During prediction time, a majority voting scheme is used to form the final prediction using the prediction results from each patch. We take the a prediction vote from every subpatch of the image and take the mode of that data as the final prediction.</p><p>This makes our architecture adaptable to various image sizes and has experimentally been shown to further increase prediction accuracy in comparison to classifying individual <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1760-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>32</mn><mo>&amp;#x00D7;</mo><mn>32</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8305" style="width: 5.839em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.806em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1004.75em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8306"><span class="mn" id="MathJax-Span-8307" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-8308" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8309" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">32</span><span class="mo" id="MathJax-Span-8310" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8311" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>32</mn><mo>×</mo><mn>32</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1760">32 \times 32 \times 3</script></span> images.</p><p>To avoid memorization and incorrect evaluation results, we ensure that all filtered version of an image from our dataset belongs to the same training, testing, or validation set. In this setup, the identification network has never seen the images presented to it in testing and validation in any form, which results in a better approximation of a practical use for the model.</p><h3 id="Filter-Inversion0"><a class="anchor hidden-xs" href="#Filter-Inversion0" title="Filter-Inversion0"><span class="octicon octicon-link"></span></a>Filter Inversion</h3><p>For the inversion of filters, our formalization of a filter is critical. We assume the definition of a filter as a pair <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-352-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo>,</mo><mi>g</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1838" style="width: 2.534em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.069em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.02em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1839"><span class="mo" id="MathJax-Span-1840" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1841" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span class="mo" id="MathJax-Span-1842" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-1843" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">g</span><span class="mo" id="MathJax-Span-1844" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>f</mi><mo>,</mo><mi>g</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-352">(f, g)</script></span> of a function <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-353-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1845" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.42em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1846"><span class="mi" id="MathJax-Span-1847" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi></math></span></span><script type="math/tex" id="MathJax-Element-353">f</script></span> that maps colors to colors, and a convolution kernel <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-354-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>g</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1848" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em, 1000.47em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1849"><span class="mi" id="MathJax-Span-1850" style="font-family: STIXGeneral-Italic;">g</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>g</mi></math></span></span><script type="math/tex" id="MathJax-Element-354">g</script></span>.</p><p>With this assumption, we design a set neural networks to approximate the behavior of an inverse filter. The specification of the neural network for one filter <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-355-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo>,</mo><mi>g</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1851" style="width: 2.534em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.069em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.02em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1852"><span class="mo" id="MathJax-Span-1853" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1854" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span class="mo" id="MathJax-Span-1855" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-1856" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">g</span><span class="mo" id="MathJax-Span-1857" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>f</mi><mo>,</mo><mi>g</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-355">(f, g)</script></span> is such that given a <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-356-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1858" style="width: 2.637em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.172em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.12em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1859"><span class="mn" id="MathJax-Span-1860" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-1861" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-1862" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-356">3 \times 3</script></span> region of pixels, it should be able to learn and undo the convolution <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-357-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>g</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1863" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em, 1000.47em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1864"><span class="mi" id="MathJax-Span-1865" style="font-family: STIXGeneral-Italic;">g</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>g</mi></math></span></span><script type="math/tex" id="MathJax-Element-357">g</script></span> centered at the middle of the square, then learn and apply the inverse of the function <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-358-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1866" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.42em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1867"><span class="mi" id="MathJax-Span-1868" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi></math></span></span><script type="math/tex" id="MathJax-Element-358">f</script></span>, finally outputting the unfiltered color of the middle pixel of the patch.</p><p>We set up a neural network model with an input of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-359-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1869" style="width: 4.651em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.825em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.77em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1870"><span class="mn" id="MathJax-Span-1871" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-1872" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-1873" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span><span class="mo" id="MathJax-Span-1874" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-1875" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-359">3 \times 3 \times 3</script></span> values to represent the RGB colors of the <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-360-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1876" style="width: 2.637em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.172em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.12em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1877"><span class="mn" id="MathJax-Span-1878" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-1879" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-1880" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-360">3 \times 3</script></span> patch, an output of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-361-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1881" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.47em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1882"><span class="mn" id="MathJax-Span-1883" style="font-family: STIXGeneral-Regular;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-361">3</script></span> values to represent the RGB colors of the center pixel. The topology consists of two hidden layers with <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-362-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>100</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1884" style="width: 1.81em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.501em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1001.5em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1885"><span class="mn" id="MathJax-Span-1886" style="font-family: STIXGeneral-Regular;">100</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>100</mn></math></span></span><script type="math/tex" id="MathJax-Element-362">100</script></span> neurons each, to account for potential non-linearities of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-363-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1887" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.42em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1888"><span class="mi" id="MathJax-Span-1889" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi></math></span></span><script type="math/tex" id="MathJax-Element-363">f</script></span>. We note that since <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-364-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo>,</mo><mi>g</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1890" style="width: 2.534em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.069em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.02em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-1891"><span class="mo" id="MathJax-Span-1892" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-1893" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span class="mo" id="MathJax-Span-1894" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-1895" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">g</span><span class="mo" id="MathJax-Span-1896" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>f</mi><mo>,</mo><mi>g</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-364">(f, g)</script></span> are specific to each filter, we will need to train a separate copy of this model for each of our supported filters.</p><p>Finally, to apply filter inversion to a given image <em>known to be the result of a particular filter <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-436-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2230" style="width: 0.515em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.412em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.744em, 1000.41em, 2.923em, -999.997em); top: -2.559em; left: 0em;"><span class="mrow" id="MathJax-Span-2231"><span class="mi" id="MathJax-Span-2232" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.156em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi></math></span></span><script type="math/tex" id="MathJax-Element-436">f</script></span></em>, we iterate through the image using a <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-437-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2233" style="width: 2.637em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.172em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.12em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2234"><span class="mn" id="MathJax-Span-2235" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-2236" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-2237" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-437">3 \times 3</script></span> sliding window, and for each step of the iteration we feed the window into the pre-trained inversion model corresponding to <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-438-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2238" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.42em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2239"><span class="mi" id="MathJax-Span-2240" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi></math></span></span><script type="math/tex" id="MathJax-Element-438">f</script></span>. The model outputs the predicted unfiltered color of the pixel at the center of the image, which we store in a copy of the image. Repeating this operation over patches centered at each pixel on the image, we reach the predicted unfiltered image.</p><p>Note that due to the fact that our model is based on filter functions that we define and implement, it was also possible to attempt to invert all of our filters deterministically that aimed to undo each step of the filter. However, we do not know the exact functions behind the real filters used on Instagram et al. Such a method, then, would not be applicable on images filtered using filters whose source code we cannot access, such as images on social media. As a direct result of our learning method, given a sufficiently large dataset of filtered images (alongside their unfiltered counterparts), we can learn to invert any filter that our definition of a filter can represent.</p><h3 id="Complete-Model"><a class="anchor hidden-xs" href="#Complete-Model" title="Complete-Model"><span class="octicon octicon-link"></span></a>Complete Model</h3><p>We evaluate our complete model by tying together the detector and the inverter. Given an input image, we run the detector to find the most likely applied filter. We get our output unfiltered image by running the corresponding inverter.</p><h3 id="End-to-End-CNN"><a class="anchor hidden-xs" href="#End-to-End-CNN" title="End-to-End-CNN"><span class="octicon octicon-link"></span></a>End-to-End CNN</h3><p>Taking inspiration from encode-decoder networks<sup class="footnote-ref"><a href="#fn10" id="fnref10">[10]</a></sup>, we also explore building a single network that bypasses discrete steps of classification and neural networks, and instead create a single convolutional network that aims to invert images from the input. The motivation is to allow the identification and inversion of more nuanced filter combinations, rather than forcing an image fit to a single filter’s characteristics. This would provide a plausible generalization of inversion even for unknown filters. We utilized the same architecture as our filter identification step but removed the softmax layer and instead appended an upsampling layer and <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1791-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8513" style="width: 2.637em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.172em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.12em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8514"><span class="mn" id="MathJax-Span-8515" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-8516" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8517" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1791">3 \times 3</script></span> convolutional layer with 3 kernels.</p><h2 id="ExperimentsResults"><a class="anchor hidden-xs" href="#ExperimentsResults" title="ExperimentsResults"><span class="octicon octicon-link"></span></a>Experiments/Results</h2><p>We perform our experiments using 9000 <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1759-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>128</mn><mo>&amp;#x00D7;</mo><mn>128</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8298" style="width: 7.027em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.788em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1005.74em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8299"><span class="mn" id="MathJax-Span-8300" style="font-family: STIXGeneral-Regular;">128</span><span class="mo" id="MathJax-Span-8301" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8302" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">128</span><span class="mo" id="MathJax-Span-8303" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8304" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>128</mn><mo>×</mo><mn>128</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1759">128 \times 128 \times 3</script></span> images from 10 different categories from the MiniPlaces dataset<sup class="footnote-ref"><a href="#fn11" id="fnref11">[11]</a></sup> passed through 6 different filters<sup class="footnote-ref"><a href="#fn12" id="fnref12">[12]</a></sup> to create a total dataset of 63000 images (including the original images.) We split these images into 89.55% training, 0.45% validation and 10% testing sets with assurance that the sets are closed under filtering. Therefore, our training set consists of 56420 images, our validation set of 280 images, and our testing set of 6300 images.</p><p><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-441-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>9000 images</mtext><mo>&amp;#x00D7;</mo><mtext>6 filters</mtext><mo>+</mo><mtext>9000 original images</mtext><mo>=</mo><mtext>63000 training images</mtext></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2253" style="width: 35.282em; display: inline-block;"><span style="display: inline-block; position: relative; width: 29.135em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1029.08em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2254"><span class="mtext" id="MathJax-Span-2255" style="font-family: STIXGeneral-Regular;">9000 images</span><span class="mo" id="MathJax-Span-2256" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mtext" id="MathJax-Span-2257" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">6 filters</span><span class="mo" id="MathJax-Span-2258" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mtext" id="MathJax-Span-2259" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">9000 original images</span><span class="mo" id="MathJax-Span-2260" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mtext" id="MathJax-Span-2261" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">63000 training images</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>9000 images</mtext><mo>×</mo><mtext>6 filters</mtext><mo>+</mo><mtext>9000 original images</mtext><mo>=</mo><mtext>63000 training images</mtext></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-441"> \text{9000 images} \times \text{6 filters} + \text{9000 original images} = \text{63000 training images}</script></span></p><p><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-442-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>63000 images</mtext><mo>&amp;#x00D7;</mo><mn>0.8955</mn><mo>&amp;#x2248;</mo><mn>56420</mn></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2262" style="width: 16.067em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.277em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1013.28em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2263"><span class="mtext" id="MathJax-Span-2264" style="font-family: STIXGeneral-Regular;">63000 images</span><span class="mo" id="MathJax-Span-2265" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-2266" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">0.8955</span><span class="mo" id="MathJax-Span-2267" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≈</span><span class="mn" id="MathJax-Span-2268" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">56420</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>63000 images</mtext><mo>×</mo><mn>0.8955</mn><mo>≈</mo><mn>56420</mn></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-442"> \text{63000 images} \times 0.8955 \approx 56420</script></span></p><p><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-443-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>63000 images</mtext><mo>&amp;#x00D7;</mo><mn>0.45</mn><mo>&amp;#x2248;</mo><mn>280</mn></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2269" style="width: 13.639em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.263em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1011.26em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2270"><span class="mtext" id="MathJax-Span-2271" style="font-family: STIXGeneral-Regular;">63000 images</span><span class="mo" id="MathJax-Span-2272" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-2273" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">0.45</span><span class="mo" id="MathJax-Span-2274" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≈</span><span class="mn" id="MathJax-Span-2275" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">280</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>63000 images</mtext><mo>×</mo><mn>0.45</mn><mo>≈</mo><mn>280</mn></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-443"> \text{63000 images} \times 0.45\approx 280</script></span></p><p><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-444-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>63000 images</mtext><mo>&amp;#x00D7;</mo><mn>0.1</mn><mo>=</mo><mn>6300</mn></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2276" style="width: 13.639em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.263em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1011.26em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2277"><span class="mtext" id="MathJax-Span-2278" style="font-family: STIXGeneral-Regular;">63000 images</span><span class="mo" id="MathJax-Span-2279" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-2280" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">0.1</span><span class="mo" id="MathJax-Span-2281" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-2282" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">6300</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>63000 images</mtext><mo>×</mo><mn>0.1</mn><mo>=</mo><mn>6300</mn></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-444"> \text{63000 images} \times 0.1 = 6300</script></span></p><h3 id="Filter-Identification"><a class="anchor hidden-xs" href="#Filter-Identification" title="Filter-Identification"><span class="octicon octicon-link"></span></a>Filter Identification</h3><p>For filter identification, because each image in the dataset is <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1845-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>128</mn><mo>&amp;#x00D7;</mo><mn>128</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8746" style="width: 7.027em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.788em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1005.74em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8747"><span class="mn" id="MathJax-Span-8748" style="font-family: STIXGeneral-Regular;">128</span><span class="mo" id="MathJax-Span-8749" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8750" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">128</span><span class="mo" id="MathJax-Span-8751" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8752" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>128</mn><mo>×</mo><mn>128</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1845">128 \times 128 \times 3</script></span>, we further subdivide each image into 16 non-overlapping <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1846-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>32</mn><mo>&amp;#x00D7;</mo><mn>32</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8753" style="width: 5.839em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.806em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1004.75em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8754"><span class="mn" id="MathJax-Span-8755" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-8756" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8757" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">32</span><span class="mo" id="MathJax-Span-8758" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8759" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>32</mn><mo>×</mo><mn>32</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1846">32 \times 32 \times 3</script></span> images for training, leading to a total of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1847-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>902720</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8760" style="width: 3.618em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.998em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8761"><span class="mn" id="MathJax-Span-8762" style="font-family: STIXGeneral-Regular;">902720</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>902720</mn></math></span></span><script type="math/tex" id="MathJax-Element-1847">902720</script></span> training images and <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1848-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>4480</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8763" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.02em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8764"><span class="mn" id="MathJax-Span-8765" style="font-family: STIXGeneral-Regular;">4480</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4480</mn></math></span></span><script type="math/tex" id="MathJax-Element-1848">4480</script></span> validation images. Each image also has an associated 7-dimensional one-hot output vector that indicates the ground truth for which filter has been applied to the image.</p><p>As described in <em>Approach</em>, we adopted the model in the Obregon paper <sup class="footnote-ref"><a href="#fn2" id="fnref2:4">[2:4]</a></sup> and found that slight tweaks in the model hyperparameters was sufficient to provide strong results. We test greater modifications to the architecture, such as adding additional convolution layers and tweaking number of neurons in the fully connected layers. We found that decreasing model complexity is generally correlated with decreasing accuracy, and increasing complexity did not strongly correlate with increasing accuracy. One specific hyperparameter we tuned was the negative slope coefficient on the leaky ReLU layers. We found a sweet spot of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-447-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2297" style="width: 1.501em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.242em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1001.19em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2298"><span class="mn" id="MathJax-Span-2299" style="font-family: STIXGeneral-Regular;">0.3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.3</mn></math></span></span><script type="math/tex" id="MathJax-Element-447">0.3</script></span> which allowed fast convergence and robustness to variation of other hyperparameters.</p><p>We trained in rounds of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1861-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>5</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8802" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.47em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8803"><span class="mn" id="MathJax-Span-8804" style="font-family: STIXGeneral-Regular;">5</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math></span></span><script type="math/tex" id="MathJax-Element-1861">5</script></span> epochs with various batch sizes until validation accuracy started to decrease due to overfitting. Specifically, our results were obtained by training the model with a total of 3 rounds of 5 epochs with batch sizes of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1862-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>256</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8805" style="width: 1.81em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.501em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1001.45em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8806"><span class="mn" id="MathJax-Span-8807" style="font-family: STIXGeneral-Regular;">256</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>256</mn></math></span></span><script type="math/tex" id="MathJax-Element-1862">256</script></span>, <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1863-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1024</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8808" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8809"><span class="mn" id="MathJax-Span-8810" style="font-family: STIXGeneral-Regular;">1024</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1024</mn></math></span></span><script type="math/tex" id="MathJax-Element-1863">1024</script></span>, and <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1864-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>4096</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8811" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8812"><span class="mn" id="MathJax-Span-8813" style="font-family: STIXGeneral-Regular;">4096</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4096</mn></math></span></span><script type="math/tex" id="MathJax-Element-1864">4096</script></span> on an <em>NVIDIA GTX970M GPU</em> using Keras<sup class="footnote-ref"><a href="#fn7" id="fnref7:1">[7:1]</a></sup>.</p><p>To prevent overfitting, we evaluated how many epochs to train using overall accuracy on the validation set. Specifically, we trained until validation accuracy started to decrease and took the model at which validation accuracy is the highest.</p><p>For final model evaluation, we evaluated the overall accuracy, precision, recall, and F1-score for each filter category while treating each <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1933-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>32</mn><mo>&amp;#x00D7;</mo><mn>32</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-9132" style="width: 5.839em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.806em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1004.75em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-9133"><span class="mn" id="MathJax-Span-9134" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-9135" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-9136" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">32</span><span class="mo" id="MathJax-Span-9137" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-9138" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>32</mn><mo>×</mo><mn>32</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1933">32 \times 32 \times 3</script></span> patch in the testing set as an independent image. We also evaluated our model using the same metrics on the testing set by applying the previously described majority voting scheme .</p><p>We then compared the CNN approach to the results of our previous approach, where we extracted RGB color histograms as features to an image which were fed into a feed-forward neural network model for classification.</p><ul>
<li>Baseline accuracy with random decision: <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1893-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.143</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8889" style="width: 2.792em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.275em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.22em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8890"><span class="mn" id="MathJax-Span-8891" style="font-family: STIXGeneral-Regular;">0.143</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.143</mn></math></span></span><script type="math/tex" id="MathJax-Element-1893">0.143</script></span></li>
<li>Average accuracy from color histogram features fed into a neural network model: <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1894-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.783</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8892" style="width: 2.792em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.275em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.22em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8893"><span class="mn" id="MathJax-Span-8894" style="font-family: STIXGeneral-Regular;">0.783</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.783</mn></math></span></span><script type="math/tex" id="MathJax-Element-1894">0.783</script></span></li>
<li>Average accuracy from color histogram features and scene label fed into a neural network model: <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1895-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.802</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8895" style="width: 2.792em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.275em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.22em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8896"><span class="mn" id="MathJax-Span-8897" style="font-family: STIXGeneral-Regular;">0.802</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.802</mn></math></span></span><script type="math/tex" id="MathJax-Element-1895">0.802</script></span></li>
<li>Average accuracy of our convolutional neural network model: <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1896-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.955</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8898" style="width: 2.792em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.275em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.22em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8899"><span class="mn" id="MathJax-Span-8900" style="font-family: STIXGeneral-Regular;">0.955</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.955</mn></math></span></span><script type="math/tex" id="MathJax-Element-1896">0.955</script></span></li>
</ul><h4 id="Individual-Image-Patch-Classification"><a class="anchor hidden-xs" href="#Individual-Image-Patch-Classification" title="Individual-Image-Patch-Classification"><span class="octicon octicon-link"></span></a>Individual Image Patch Classification</h4><p><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-452-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>&amp;#x03BC;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mi>c</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>y</mi></mrow></msub><mo>=</mo><mn>0.839</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2312" style="width: 8.215em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.769em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1006.72em, 2.947em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2313"><span class="msubsup" id="MathJax-Span-2314"><span style="display: inline-block; position: relative; width: 3.205em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.47em, 4.341em, -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-2315" style="font-family: STIXGeneral-Italic;">μ</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="texatom" id="MathJax-Span-2316"><span class="mrow" id="MathJax-Span-2317"><span class="mi" id="MathJax-Span-2318" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-2319" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-2320" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-2321" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-2322" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-2323" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-2324" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-2325" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-2326" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-2327" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">0.839</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>μ</mi><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mi>c</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>y</mi></mrow></msub><mo>=</mo><mn>0.839</mn></math></span></span><script type="math/tex" id="MathJax-Element-452">\mu_{accuracy} = 0.839</script></span></p><p><img src="https://raw.githubusercontent.com/team-vision2020/final-update-md/be66c45ead76e1c0016bd0edf94e7e3071991266/images/individualCM.JPG" alt="Confusion matrix for individual image classification" title="Confusion matrix"></p><table>
<thead>
<tr>
<th></th>
<th style="text-align:center">Identity</th>
<th style="text-align:right">Clarendon</th>
<th style="text-align:right">Gingham</th>
<th style="text-align:right">Juno</th>
<th style="text-align:right">Lark</th>
<th style="text-align:right">Gotham</th>
<th style="text-align:right">Reyes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precision</td>
<td style="text-align:center">0.796</td>
<td style="text-align:right">0.858</td>
<td style="text-align:right">0.918</td>
<td style="text-align:right">0.727</td>
<td style="text-align:right">0.762</td>
<td style="text-align:right">0.892</td>
<td style="text-align:right">0.924</td>
</tr>
<tr>
<td>Recall</td>
<td style="text-align:center">0.855</td>
<td style="text-align:right">0.816</td>
<td style="text-align:right">0.984</td>
<td style="text-align:right">0.774</td>
<td style="text-align:right">0.692</td>
<td style="text-align:right">0.923</td>
<td style="text-align:right">0.827</td>
</tr>
<tr>
<td>F1-Score</td>
<td style="text-align:center">0.824</td>
<td style="text-align:right">0.836</td>
<td style="text-align:right">0.950</td>
<td style="text-align:right">0.749</td>
<td style="text-align:right">0.725</td>
<td style="text-align:right">0.907</td>
<td style="text-align:right">0.873</td>
</tr>
</tbody>
</table><h4 id="Filter-Classification-using-Majority-Voting-Scheme"><a class="anchor hidden-xs" href="#Filter-Classification-using-Majority-Voting-Scheme" title="Filter-Classification-using-Majority-Voting-Scheme"><span class="octicon octicon-link"></span></a>Filter Classification using Majority Voting Scheme</h4><p><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-453-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>&amp;#x03BC;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mi>c</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>y</mi></mrow></msub><mo>=</mo><mn>0.955</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2328" style="width: 8.215em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.769em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1006.72em, 2.947em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2329"><span class="msubsup" id="MathJax-Span-2330"><span style="display: inline-block; position: relative; width: 3.205em; height: 0px;"><span style="position: absolute; clip: rect(3.412em, 1000.47em, 4.341em, -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-2331" style="font-family: STIXGeneral-Italic;">μ</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="texatom" id="MathJax-Span-2332"><span class="mrow" id="MathJax-Span-2333"><span class="mi" id="MathJax-Span-2334" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-2335" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-2336" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-2337" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-2338" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-2339" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-2340" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-2341" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-2342" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-2343" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">0.955</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>μ</mi><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mi>c</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>y</mi></mrow></msub><mo>=</mo><mn>0.955</mn></math></span></span><script type="math/tex" id="MathJax-Element-453">\mu_{accuracy} = 0.955</script></span></p><p><img src="https://raw.githubusercontent.com/team-vision2020/final-update-md/be66c45ead76e1c0016bd0edf94e7e3071991266/images/majorityVotingCM.JPG" alt="Confusion matrix for image classification in patches" title="Confusion matrix"></p><table>
<thead>
<tr>
<th></th>
<th style="text-align:center">Identity</th>
<th style="text-align:right">Clarendon</th>
<th style="text-align:right">Gingham</th>
<th style="text-align:right">Juno</th>
<th style="text-align:right">Lark</th>
<th style="text-align:right">Gotham</th>
<th style="text-align:right">Reyes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precision</td>
<td style="text-align:center">0.967</td>
<td style="text-align:right">0.992</td>
<td style="text-align:right">0.974</td>
<td style="text-align:right">0.844</td>
<td style="text-align:right">0.948</td>
<td style="text-align:right">0.979</td>
<td style="text-align:right">0.993</td>
</tr>
<tr>
<td>Recall</td>
<td style="text-align:center">0.977</td>
<td style="text-align:right">0.966</td>
<td style="text-align:right">1.00</td>
<td style="text-align:right">0.952</td>
<td style="text-align:right">0.813</td>
<td style="text-align:right">0.997</td>
<td style="text-align:right">0.980</td>
</tr>
<tr>
<td>F1-Score</td>
<td style="text-align:center">0.972</td>
<td style="text-align:right">0.979</td>
<td style="text-align:right">0.987</td>
<td style="text-align:right">0.895</td>
<td style="text-align:right">0.876</td>
<td style="text-align:right">0.988</td>
<td style="text-align:right">0.987</td>
</tr>
</tbody>
</table><p>Surprisingly, our convolutional neural network achieved dramatically improved performance over our histogram approach. We say surprising, because convolutions focus information on local spatial structures. One hypothesis for this result is that the network is able to learn kernels such that each individual kernel activated in certain patterns in response to the different color curves of the image.</p><p>Another surprising fact is that we are able to achieve considerable performance even when subdividing images into <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1789-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>32</mn><mo>&amp;#x00D7;</mo><mn>32</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8501" style="width: 5.839em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.806em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1004.75em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8502"><span class="mn" id="MathJax-Span-8503" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-8504" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8505" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">32</span><span class="mo" id="MathJax-Span-8506" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-8507" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>32</mn><mo>×</mo><mn>32</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1789">32\times 32\times 3</script></span> images. This indicates that filters applied to these images create global image features regardless of the image content. Further, the convolutional network was able to capture the expected characteristics of images that have been filtered with a particular filter. More impressively, the detection is accurate even for some filters that are hard to distinguish by human classification.</p><p>While the individual image filter performance boasted an improved accuracy performance of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-455-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.84</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2351" style="width: 2.12em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.759em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1001.71em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2352"><span class="mn" id="MathJax-Span-2353" style="font-family: STIXGeneral-Regular;">0.84</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.84</mn></math></span></span><script type="math/tex" id="MathJax-Element-455">0.84</script></span>, the results are even better when we account for image subdivision and use majority voting to determine the final prediction. This is because multiple prediction results allow us to be more tolerable of individual classification errors, which may be raised because of the globality characteristic of filters breaking. The subdivision the image into 16 subpatches was enough to allow the correct filter to gain majority vote, regardless of noise in individual patches.</p><p>Just as in our histogram approach, the probability that a filtered image might be confused with another filter depends on the similarity of the filtered image to other images. This is especially apparent between Lark and Juno.</p><p>Note the interesting asymmetry in the relationship of these misclassification results. For example a significant amount of Lark images have been confused with Juno but not the other way around. This is perhaps due to the effect of filters on different images. Certain filters might have similar effects to other filters only with a certain distribution of colors in the original image. So while the filters effects’ are generally distinct, results might be confusing on specific images.</p><h3 id="Filter-Inversion"><a class="anchor hidden-xs" href="#Filter-Inversion" title="Filter-Inversion"><span class="octicon octicon-link"></span></a>Filter Inversion</h3><p>An important task is to train the inversion model with sufficient data to allow it to generalize. To train the model for a specific filter, we generate a <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1220-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-5996" style="width: 2.637em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.172em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.12em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-5997"><span class="mn" id="MathJax-Span-5998" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-5999" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-6000" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1220">3 \times 3</script></span> RGB image (<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1221-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn><mo>=</mo><mn>27</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-6001" style="width: 7.389em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.098em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1006.05em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-6002"><span class="mn" id="MathJax-Span-6003" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-6004" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-6005" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span><span class="mo" id="MathJax-Span-6006" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-6007" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span><span class="mo" id="MathJax-Span-6008" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-6009" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">27</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn><mo>×</mo><mn>3</mn><mo>=</mo><mn>27</mn></math></span></span><script type="math/tex" id="MathJax-Element-1221">3 \times 3 \times 3 = 27</script></span> integers in the range <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1222-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo>,</mo><mn>255</mn><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-6010" style="width: 3.773em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.102em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003em, 2.792em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-6011"><span class="mo" id="MathJax-Span-6012" style="font-family: STIXGeneral-Regular;">[</span><span class="mn" id="MathJax-Span-6013" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-6014" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-6015" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">255</span><span class="mo" id="MathJax-Span-6016" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mn>255</mn><mo stretchy="false">]</mo></math></span></span><script type="math/tex" id="MathJax-Element-1222">[0, 255]</script></span>) uniformly at random, and apply the filter to this small image. We store the filtered <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1223-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn><mo>&amp;#x00D7;</mo><mn>3</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-6017" style="width: 2.637em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.172em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.12em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-6018"><span class="mn" id="MathJax-Span-6019" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-6020" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="mn" id="MathJax-Span-6021" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1223">3 \times 3</script></span> image as an input <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1224-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-6022" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em, 1000.47em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-6023"><span class="mi" id="MathJax-Span-6024" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-1224">x</script></span> and the color of the center pixel of the unfiltered patch as an output <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1225-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-6025" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em, 1000.47em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-6026"><span class="mi" id="MathJax-Span-6027" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-1225">y</script></span>. Every such <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1226-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-6028" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1001.97em, 2.843em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-6029"><span class="mo" id="MathJax-Span-6030" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-6031" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-6032" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-6033" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">y</span><span class="mo" id="MathJax-Span-6034" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-1226">(x, y)</script></span> forms one sample, and we train our neural network on 1 million such samples until validation score plateaus.</p><p>To assess filter inversion performance, we filtered the test images with all of our filters, <em>Reyes, Lark, Juno, Gingham and Gotham</em>, and inverted them with the respective inversion models.</p><p>Note that we assume correct knowledge of the filter in this section, and <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-456-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>p</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2354" style="width: 1.707em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.397em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.346em, 1001.4em, 2.637em, -999.997em); top: -2.167em; left: 0em;"><span class="mrow" id="MathJax-Span-2355"><span class="msubsup" id="MathJax-Span-2356"><span style="display: inline-block; position: relative; width: 1.397em; height: 0px;"><span style="position: absolute; clip: rect(3.153em, 1000.62em, 4.135em, -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-2357" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.622em;"><span class="texatom" id="MathJax-Span-2358"><span class="mrow" id="MathJax-Span-2359"><span class="mi" id="MathJax-Span-2360" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-2361" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.172em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>E</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>p</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-456">E_{pp}</script></span> is mean per-pixel absolute error.</p><table>
<thead>
<tr>
<th>Filter</th>
<th>Filtered <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-457-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>p</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2362" style="width: 1.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.414em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.363em, 1001.41em, 2.623em, -999.997em); top: -2.165em; left: 0em;"><span class="mrow" id="MathJax-Span-2363"><span class="msubsup" id="MathJax-Span-2364"><span style="display: inline-block; position: relative; width: 1.414em; height: 0px;"><span style="position: absolute; clip: rect(3.178em, 1000.66em, 4.136em, -999.997em); top: -3.979em; left: 0em;"><span class="mi" id="MathJax-Span-2365" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.984em;"></span></span><span style="position: absolute; top: -3.828em; left: 0.607em;"><span class="texatom" id="MathJax-Span-2366"><span class="mrow" id="MathJax-Span-2367"><span class="mi" id="MathJax-Span-2368" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-2369" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.984em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.17em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>E</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>p</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-457">E_{pp}</script></span></th>
<th>Inverted <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-458-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>p</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2370" style="width: 1.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.414em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.363em, 1001.41em, 2.623em, -999.997em); top: -2.165em; left: 0em;"><span class="mrow" id="MathJax-Span-2371"><span class="msubsup" id="MathJax-Span-2372"><span style="display: inline-block; position: relative; width: 1.414em; height: 0px;"><span style="position: absolute; clip: rect(3.178em, 1000.66em, 4.136em, -999.997em); top: -3.979em; left: 0em;"><span class="mi" id="MathJax-Span-2373" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.984em;"></span></span><span style="position: absolute; top: -3.828em; left: 0.607em;"><span class="texatom" id="MathJax-Span-2374"><span class="mrow" id="MathJax-Span-2375"><span class="mi" id="MathJax-Span-2376" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span><span class="mi" id="MathJax-Span-2377" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.984em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.17em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>E</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>p</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-458">E_{pp}</script></span></th>
<th>Percent undoing of filter</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reyes</td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-459-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.20005</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2378" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2379"><span class="mn" id="MathJax-Span-2380" style="font-family: STIXGeneral-Regular;">0.20005</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.20005</mn></math></span></span><script type="math/tex" id="MathJax-Element-459">0.20005</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-460-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.00669</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2381" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2382"><span class="mn" id="MathJax-Span-2383" style="font-family: STIXGeneral-Regular;">0.00669</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.00669</mn></math></span></span><script type="math/tex" id="MathJax-Element-460">0.00669</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-461-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>96.655</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2384" style="width: 4.29em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.515em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1003.46em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2385"><span class="mn" id="MathJax-Span-2386" style="font-family: STIXGeneral-Regular;">96.655</span><span class="mi" id="MathJax-Span-2387" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>96.655</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-461">96.655\%</script></span></td>
</tr>
<tr>
<td>Lark</td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-462-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.03894</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2388" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2389"><span class="mn" id="MathJax-Span-2390" style="font-family: STIXGeneral-Regular;">0.03894</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.03894</mn></math></span></span><script type="math/tex" id="MathJax-Element-462">0.03894</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-463-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.00945</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2391" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2392"><span class="mn" id="MathJax-Span-2393" style="font-family: STIXGeneral-Regular;">0.00945</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.00945</mn></math></span></span><script type="math/tex" id="MathJax-Element-463">0.00945</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-464-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>75.726</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2394" style="width: 4.29em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.515em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1003.46em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2395"><span class="mn" id="MathJax-Span-2396" style="font-family: STIXGeneral-Regular;">75.726</span><span class="mi" id="MathJax-Span-2397" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>75.726</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-464">75.726\%</script></span></td>
</tr>
<tr>
<td>Juno</td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-465-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.04440</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2398" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.26em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2399"><span class="mn" id="MathJax-Span-2400" style="font-family: STIXGeneral-Regular;">0.04440</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.04440</mn></math></span></span><script type="math/tex" id="MathJax-Element-465">0.04440</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-466-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.00742</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2401" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2402"><span class="mn" id="MathJax-Span-2403" style="font-family: STIXGeneral-Regular;">0.00742</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.00742</mn></math></span></span><script type="math/tex" id="MathJax-Element-466">0.00742</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-467-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>83.288</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2404" style="width: 4.29em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.515em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1003.46em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2405"><span class="mn" id="MathJax-Span-2406" style="font-family: STIXGeneral-Regular;">83.288</span><span class="mi" id="MathJax-Span-2407" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>83.288</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-467">83.288\%</script></span></td>
</tr>
<tr>
<td>Gingham</td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-468-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.12112</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2408" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2409"><span class="mn" id="MathJax-Span-2410" style="font-family: STIXGeneral-Regular;">0.12112</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.12112</mn></math></span></span><script type="math/tex" id="MathJax-Element-468">0.12112</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-469-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.00403</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2411" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2412"><span class="mn" id="MathJax-Span-2413" style="font-family: STIXGeneral-Regular;">0.00403</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.00403</mn></math></span></span><script type="math/tex" id="MathJax-Element-469">0.00403</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-470-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>96.670</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2414" style="width: 4.29em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.515em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1003.46em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2415"><span class="mn" id="MathJax-Span-2416" style="font-family: STIXGeneral-Regular;">96.670</span><span class="mi" id="MathJax-Span-2417" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>96.670</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-470">96.670\%</script></span></td>
</tr>
<tr>
<td>Gotham</td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-471-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.05742</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2418" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2419"><span class="mn" id="MathJax-Span-2420" style="font-family: STIXGeneral-Regular;">0.05742</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.05742</mn></math></span></span><script type="math/tex" id="MathJax-Element-471">0.05742</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-472-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.03005</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2421" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2422"><span class="mn" id="MathJax-Span-2423" style="font-family: STIXGeneral-Regular;">0.03005</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.03005</mn></math></span></span><script type="math/tex" id="MathJax-Element-472">0.03005</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-473-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>47.673</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2424" style="width: 4.29em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.515em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1003.46em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2425"><span class="mn" id="MathJax-Span-2426" style="font-family: STIXGeneral-Regular;">47.673</span><span class="mi" id="MathJax-Span-2427" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>47.673</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-473">47.673\%</script></span></td>
</tr>
<tr>
<td>Clarendon</td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-474-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.038308</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2428" style="width: 4.6em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.773em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.72em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2429"><span class="mn" id="MathJax-Span-2430" style="font-family: STIXGeneral-Regular;">0.038308</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.038308</mn></math></span></span><script type="math/tex" id="MathJax-Element-474">0.038308</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-475-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.00500</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2431" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.26em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2432"><span class="mn" id="MathJax-Span-2433" style="font-family: STIXGeneral-Regular;">0.00500</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.00500</mn></math></span></span><script type="math/tex" id="MathJax-Element-475">0.00500</script></span></td>
<td><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-476-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>86.947</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2434" style="width: 4.29em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.515em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1003.46em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2435"><span class="mn" id="MathJax-Span-2436" style="font-family: STIXGeneral-Regular;">86.947</span><span class="mi" id="MathJax-Span-2437" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>86.947</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-476">86.947\%</script></span></td>
</tr>
</tbody>
</table><p>Overall, our inversion model has successfully reduced the mean per-pixel color difference of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-477-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.08337</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2438" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2439"><span class="mn" id="MathJax-Span-2440" style="font-family: STIXGeneral-Regular;">0.08337</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.08337</mn></math></span></span><script type="math/tex" id="MathJax-Element-477">0.08337</script></span> (in a scale of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-478-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2441" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1002.02em, 2.792em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2442"><span class="mo" id="MathJax-Span-2443" style="font-family: STIXGeneral-Regular;">[</span><span class="mn" id="MathJax-Span-2444" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-2445" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-2446" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">1</span><span class="mo" id="MathJax-Span-2447" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span><script type="math/tex" id="MathJax-Element-478">[0, 1]</script></span>) between original and filtered images to a mean per-pixel color difference <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-479-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0.01044</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2448" style="width: 3.98em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.257em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1003.21em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2449"><span class="mn" id="MathJax-Span-2450" style="font-family: STIXGeneral-Regular;">0.01044</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.01044</mn></math></span></span><script type="math/tex" id="MathJax-Element-479">0.01044</script></span> between the original and unfiltered images.</p><p>As a result, we claim our model can reverse <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-480-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>81.159</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-2451" style="width: 4.29em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.515em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1003.46em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2452"><span class="mn" id="MathJax-Span-2453" style="font-family: STIXGeneral-Regular;">81.159</span><span class="mi" id="MathJax-Span-2454" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>81.159</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-480">81.159\%</script></span> of the mean per-pixel change caused by an average filter.</p><h3 id="Complete-Model1"><a class="anchor hidden-xs" href="#Complete-Model1" title="Complete-Model1"><span class="octicon octicon-link"></span></a>Complete Model</h3><p>As both detection and inversion have reliable performance, it’s worth quantifying the performance of the complete system. On average, per pixel error is <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1834-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1.6</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8686" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8687"><span class="mn" id="MathJax-Span-8688" style="font-family: STIXGeneral-Regular;">1.6</span><span class="mi" id="MathJax-Span-8689" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.6</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1834">1.6\%</script></span>, whereas baseline error between the original image and a filtered image is <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1835-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>8.3</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8690" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8691"><span class="mn" id="MathJax-Span-8692" style="font-family: STIXGeneral-Regular;">8.3</span><span class="mi" id="MathJax-Span-8693" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.3</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1835">8.3\%</script></span>. This means our system undoes the filter by reducing the pixel offset from the original image by <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1836-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>81</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8694" style="width: 2.12em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.759em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.71em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8695"><span class="mn" id="MathJax-Span-8696" style="font-family: STIXGeneral-Regular;">81</span><span class="mi" id="MathJax-Span-8697" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>81</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1836">81\%</script></span> numerically. This result is potentially even better perceptually. This is demonstrated in the qualitative results.</p><h3 id="End-To-End-CNN"><a class="anchor hidden-xs" href="#End-To-End-CNN" title="End-To-End-CNN"><span class="octicon octicon-link"></span></a>End-To-End CNN</h3><p>Our end-to-end network failed to perform as well as inversion through our manually discretized steps. The baseline mean absolute per pixel error through our testing set was <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1605-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>8.34</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7731" style="width: 2.998em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.482em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1002.43em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-7732"><span class="mn" id="MathJax-Span-7733" style="font-family: STIXGeneral-Regular;">8.34</span><span class="mi" id="MathJax-Span-7734" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.34</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1605">8.34 \%</script></span> per channel and our network was able to achieve a mean absolute per pixel error of only <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1606-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>6.67</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7735" style="width: 2.998em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.482em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1002.43em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-7736"><span class="mn" id="MathJax-Span-7737" style="font-family: STIXGeneral-Regular;">6.67</span><span class="mi" id="MathJax-Span-7738" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6.67</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1606">6.67\%</script></span> per channel. Typical encoder-decoder models are highly complex with many layers and neurons to capture scene information, which then are used to transform the data back into an image. This makes it highly probable that the network we tested was too shallow and simple to capture the information needed to recreate the inverted image.</p><h2 id="Qualitative-Results"><a class="anchor hidden-xs" href="#Qualitative-Results" title="Qualitative-Results"><span class="octicon octicon-link"></span></a>Qualitative Results</h2><h3 id="Success-cases-Proper-Detection"><a class="anchor hidden-xs" href="#Success-cases-Proper-Detection" title="Success-cases-Proper-Detection"><span class="octicon octicon-link"></span></a>Success cases (Proper Detection)</h3><table>
<thead>
<tr>
<th>Filter</th>
<th>Original Image</th>
<th>Filtered Image</th>
<th>Unfiltered Image</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reyes</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/354.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/354_reyes.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/354_reyes_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Clarendon</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/369.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/369_clarendon.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/369_clarendon_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Juno</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/383.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/383_juno.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/383_juno_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Gingham</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/394.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/394_gingham.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/394_gingham_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Gotham</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/568.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/568_gotham.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/568_gotham_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Lark</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/830.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/830_lark.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/830_lark_inverted.png?raw=true" alt=""></td>
</tr>
</tbody>
</table><h3 id="Failure-cases-Predicted-filter-in-parentheses"><a class="anchor hidden-xs" href="#Failure-cases-Predicted-filter-in-parentheses" title="Failure-cases-Predicted-filter-in-parentheses"><span class="octicon octicon-link"></span></a>Failure cases (Predicted filter in parentheses)</h3><table>
<thead>
<tr>
<th>Filter (Predicted)</th>
<th>Original Image</th>
<th>Filtered Image</th>
<th>Unfiltered Image</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lark (Juno)</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/803.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/803_lark.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/803_juno_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Clarendon (Gotham)</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/821.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/821_clarendon.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/821_gotham_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Juno (Lark)</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/822.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/822_lark.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/822_juno_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Gotham (Gotham)</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/510.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/510_gotham.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/510_gotham_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Reyes (Gotham)</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/451.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/451_reyes.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/451_gotham_inverted.png?raw=true" alt=""></td>
</tr>
<tr>
<td>Gingham (Reyes)</td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/126.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/126_gingham.png?raw=true" alt=""></td>
<td><img src="https://github.com/team-vision2020/filters/blob/master/output/126_reyes_inverted.png?raw=true" alt=""></td>
</tr>
</tbody>
</table><p>Overall results are almost always perceptually passable. No section is dedicated for qualitative results of inversion, as the complete model’s performance in the success cases are arguably imperceptible from the original images. Occassionally, confused filters led to unnatural coloration (inversion of the wrong filter).</p><p>We explain the relative lack of extreme failure cases by observing that our system generally confuses like-filters together. Since these filters have similar inverses, the results are not extreme diversions from the original image. Other mistakes can be further explained by the original images having “unnatural” color distributions, such as scenes in very low-light. Filtered versions of such images might vary significantly from expected images for the same filter. Thus in these failure cases, our system applies the wrong inverse but outputs a more “natural” or normalized photo that has typical color distributions.</p><h2 id="Conclusion-and-Future-Work"><a class="anchor hidden-xs" href="#Conclusion-and-Future-Work" title="Conclusion-and-Future-Work"><span class="octicon octicon-link"></span></a>Conclusion and Future Work</h2><p>For filter identification, our approach utilized a convolutional neural network architecture inspired from work in camera source identification<sup class="footnote-ref"><a href="#fn2" id="fnref2:5">[2:5]</a></sup> and were able to achieve an average accuracy of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1476-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>95.5</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7091" style="width: 2.998em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.482em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1002.43em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-7092"><span class="mn" id="MathJax-Span-7093" style="font-family: STIXGeneral-Regular;">95.5</span><span class="mi" id="MathJax-Span-7094" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>95.5</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1476">95.5\%</script></span> across a set of 6 filters, each with a different effect on the color curves of an image.</p><p>For filter inversion, our trained neural network kernel models can invert known filters with an average error <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1740-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8216" style="width: 0.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.622em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.62em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8217"><span class="mi" id="MathJax-Span-8218" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi></math></span></span><script type="math/tex" id="MathJax-Element-1740">E</script></span> (Equation 1) of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1741-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8219" style="width: 1.501em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.242em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.19em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8220"><span class="mn" id="MathJax-Span-8221" style="font-family: STIXGeneral-Regular;">1</span><span class="mi" id="MathJax-Span-8222" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1741">1\%</script></span> across our 6 filters, compared to the baseline error of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1742-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>8.4</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8223" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8224"><span class="mn" id="MathJax-Span-8225" style="font-family: STIXGeneral-Regular;">8.4</span><span class="mi" id="MathJax-Span-8226" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.4</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1742">8.4 \%</script></span>.</p><p>With these approaches combined, our complete model achieves an error <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1565-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7573" style="width: 0.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.622em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em, 1000.62em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-7574"><span class="mi" id="MathJax-Span-7575" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi></math></span></span><script type="math/tex" id="MathJax-Element-1565">E</script></span> (Equation 1) of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1566-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1.6</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7576" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-7577"><span class="mn" id="MathJax-Span-7578" style="font-family: STIXGeneral-Regular;">1.6</span><span class="mi" id="MathJax-Span-7579" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.6</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1566">1.6\%</script></span>, whereas in comparison, the baseline error is <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1567-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>8.4</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7580" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-7581"><span class="mn" id="MathJax-Span-7582" style="font-family: STIXGeneral-Regular;">8.4</span><span class="mi" id="MathJax-Span-7583" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.4</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1567">8.4\%</script></span> between filtered and unfiltered images. In other words, our complete model on average is able to reverse <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1568-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn><mo>&amp;#x2212;</mo><mfrac><mrow><mn>1.6</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></mrow><mrow><mn>8.4</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></mrow></mfrac><mo>=</mo><mn>81</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7584" style="width: 7.905em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.511em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.397em, 1006.46em, 3.05em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-7585"><span class="mn" id="MathJax-Span-7586" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-7587" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">−</span><span class="mfrac" id="MathJax-Span-7588" style="padding-left: 0.261em;"><span style="display: inline-block; position: relative; width: 1.552em; height: 0px; margin-right: 0.106em; margin-left: 0.106em;"><span style="position: absolute; clip: rect(3.308em, 1001.4em, 4.135em, -999.997em); top: -4.388em; left: 50%; margin-left: -0.721em;"><span class="mrow" id="MathJax-Span-7589"><span class="mn" id="MathJax-Span-7590" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1.6</span><span class="mi" id="MathJax-Span-7591" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.308em, 1001.4em, 4.135em, -999.997em); top: -3.561em; left: 50%; margin-left: -0.721em;"><span class="mrow" id="MathJax-Span-7592"><span class="mn" id="MathJax-Span-7593" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">8.4</span><span class="mi" id="MathJax-Span-7594" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(0.881em, 1001.55em, 1.242em, -999.997em); top: -1.289em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.552em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.087em;"></span></span></span></span><span class="mo" id="MathJax-Span-7595" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-7596" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">81</span><span class="mi" id="MathJax-Span-7597" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.753em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>−</mo><mfrac><mrow><mn>1.6</mn><mi mathvariant="normal">%</mi></mrow><mrow><mn>8.4</mn><mi mathvariant="normal">%</mi></mrow></mfrac><mo>=</mo><mn>81</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1568">1 - \frac{1.6\%}{8.4\%} = 81\%</script></span> of the effect of a filter on an image.</p><p>We initially planned to continue exploring more structured approaches extracting expert features after we extracted color histograms and scene context as image features in a decision model. However, the recent successes of convolutional neural networks in camera source identification<sup class="footnote-ref"><a href="#fn2" id="fnref2:6">[2:6]</a></sup> <sup class="footnote-ref"><a href="#fn3" id="fnref3:1">[3:1]</a></sup> <sup class="footnote-ref"><a href="#fn4" id="fnref4:1">[4:1]</a></sup> guided us to further explore CNN approaches. In the end, our approach using CNNs in filter identification outperformed our previous models by over <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1589-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>17.5</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7674" style="width: 2.998em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.482em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1002.43em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-7675"><span class="mn" id="MathJax-Span-7676" style="font-family: STIXGeneral-Regular;">17.5</span><span class="mi" id="MathJax-Span-7677" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>17.5</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1589">17.5\%</script></span> accuracy.</p><p>Our end-to-end encoder-decoder model only achieved a result of a mean absolute per pixel error of only <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1754-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>6.67</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8274" style="width: 2.998em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.482em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1002.43em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8275"><span class="mn" id="MathJax-Span-8276" style="font-family: STIXGeneral-Regular;">6.67</span><span class="mi" id="MathJax-Span-8277" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6.67</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1754">6.67\%</script></span> per channel. This not only failed to beat our two-step inversion model error of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1755-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1.7</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8278" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8279"><span class="mn" id="MathJax-Span-8280" style="font-family: STIXGeneral-Regular;">1.7</span><span class="mi" id="MathJax-Span-8281" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.7</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1755">1.7 \%</script></span>, but also failed to have a significant improvement on the baseline error of <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1756-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>8.4</mn><mi mathvariant=&quot;normal&quot;>&amp;#x0025;</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-8282" style="width: 2.43em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.017em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em, 1001.97em, 2.637em, -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8283"><span class="mn" id="MathJax-Span-8284" style="font-family: STIXGeneral-Regular;">8.4</span><span class="mi" id="MathJax-Span-8285" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>8.4</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-1756">8.4\%</script></span>.</p><p>Right now, this application is usable as a Python library<!-- as well as a website that allows the unfiltering of a single image at a time-->. One avenue of future work can be the implementation of a wrapper around popular social media websites and apps that applies our solution on each image before displaying the image to the user. Our models, completely developed using popular APIs such as Tensorflow, are fully usable as a browser plugin, which makes this a natural next step. Such a product would make the process of image unfiltering effortless and would allow users to view unfiltered / unmodified content without leaving their social media feeds.</p><p>Ultimately, this project has been a proof of concept. To be even more applicable to real world usage, it should support any combination of filters at various intensities and advanced effects such as vignetting. However, inversion such effects are expected to be harder and we did not tackle such problem for this project.</p><p>One possible step towards supporting the above features would be to create a more flexible classifier and inverter. We would create models that can describe the filtering done to an image in a high dimensional feature space and models that can invert an image based on the obtained filter embedding. For example, we can take the output of the last hidden layer in our identification network and create a new inversion model to accept a filter feature vector alongside the image as input. Such model will be more capable of handling a greater variety of filters applied at different intensities and be able to revert a greater variety of edited images. Our success in the more constrained problem with a fix set of filters motivates consideration in designing and testing model architectures that can solve the more general problem.</p><p>The increased complexity required for this kind of system naturally matches the complexity of the supported filtering processes. There remain many avenues for progress in the problem of identifying and inverting edited images.</p><hr class="footnotes-sep"><section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>J. Lukas,  J. Fridrich, and M. Goljan, “Digital camera identification from sensor pattern noise.”, IEEE Transactions on Information Forensics and Security, 2006. <a href="#fnref1" class="footnote-backref">↩︎</a> <a href="#fnref1:1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>D. Freire-Obregon, F. Narducci, S. Barra, and M. Castrillon-Santana. “Deep learning for source camera identification on mobile devices”, <a href="https://arxiv.org/abs/1710.01257" target="_blank" rel="noopener">arXiv</a>, 2017. <a href="#fnref2" class="footnote-backref">↩︎</a> <a href="#fnref2:1" class="footnote-backref">↩︎</a> <a href="#fnref2:2" class="footnote-backref">↩︎</a> <a href="#fnref2:3" class="footnote-backref">↩︎</a> <a href="#fnref2:4" class="footnote-backref">↩︎</a> <a href="#fnref2:5" class="footnote-backref">↩︎</a> <a href="#fnref2:6" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>N. Huang, J. He, N. Zhu, X. Xuan, G. Liu, and C. Chang. “Identification of the source camera of images based on convolutional neural network”, Digital Investigation, 2018. <a href="#fnref3" class="footnote-backref">↩︎</a> <a href="#fnref3:1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>A. Kuzin, A. Fattakhov, I. Kibardin, V. Iglovikov, and R. Dautov. “Camera Model Identification Using Convolutional Neural Networks”, <a href="https://arxiv.org/abspdf/1810.02981" target="_blank" rel="noopener">arXiv</a>, 2018. <a href="#fnref4" class="footnote-backref">↩︎</a> <a href="#fnref4:1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn5" class="footnote-item"><p>M. Pratusevich, “Instagram Filters in 15 Lines of Python”, Practice Python, 2016. <em>Retrieved from <a href="https://www.practicepython.org/blog/2016/12/20/instagram-filters-python.html" target="_blank" rel="noopener">URL</a></em>. <a href="#fnref5" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn6" class="footnote-item"><p>GraphixTV, “Instagram Filter Effects Tutorials”, YouTube, 2017. <em>Retrieved from <a href="https://www.youtube.com/playlist?list=PLESCEzav4FyfUIi0RHMkNbQI-9JVr4kJc" target="_blank" rel="noopener">URL</a></em> <a href="#fnref6" class="footnote-backref">↩︎</a> <a href="#fnref6:1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn7" class="footnote-item"><p>F. Chollet and others, “Keras”, GitHub, 2015. <a href="#fnref7" class="footnote-backref">↩︎</a> <a href="#fnref7:1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn8" class="footnote-item"><p>D. P. Kingma and J. Ba, “Adam: A Method for Stochastic Optimization”, 3rd International Conference for Learning Representations, San Diego, 2015. <a href="#fnref8" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn9" class="footnote-item"><p>Bing Xu and Naiyan Wang and Tianqi Chen and Mu Li, "  Empirical Evaluation of Rectified Activations in Convolutional Network", <a href="https://arxiv.org/abs/1505.00853" target="_blank" rel="noopener">arXiv</a>, 2015. <a href="#fnref9" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn10" class="footnote-item"><p>Vijay Badrinarayanan, Alex Kendall, Roberto Cipolla, Senior Member, IEEE, “SegNet: A Deep Convolutional Encoder-Decoder Architecture for Image Segmentation”, <a href="https://arxiv.org/pdf/1511.00561.pdf" target="_blank" rel="noopener">arXiv</a>, 2017. <a href="#fnref10" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn11" class="footnote-item"><p>B. Zhou, A. Lapedriza, A. Khosla, A. Oliva, and A. Torralba, “Places: A 10 million Image Database for Scene Recognition”, IEEE Transactions on Pattern Analysis and Machine Intelligence, 2017. <a href="#fnref11" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn12" class="footnote-item"><p>Approximations of Reyes, Lark, Juno, Gingham and Gotham, sampled from <sup class="footnote-ref"><a href="#fn6" id="fnref6:1">[6:1]</a></sup>. <a href="#fnref12" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section><div dir="ltr" class="resize-sensor" style="position: absolute; left: -10px; top: -10px; right: 0px; bottom: 0px; overflow: hidden; z-index: -1; visibility: hidden;"><div class="resize-sensor-expand" style="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0px; top: 0px; transition: all 0s ease 0s; width: 100000px; height: 100000px;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div></div></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#Unfiltered-Automatic-Identification-and-Inversion-of-Social-Media-Photography-Filters" title="Unfiltered: Automatic Identification and Inversion of Social Media Photography Filters">Unfiltered: Automatic Identification and Inversion of Social Media Photography Filters</a><ul class="nav">
<li class=""><a href="#Abstract" title="Abstract">Abstract</a></li>
<li class=""><a href="#Teaser-Image" title="Teaser Image">Teaser Image</a></li>
<li class=""><a href="#Introduction" title="Introduction">Introduction</a></li>
<li class=""><a href="#Approach" title="Approach">Approach</a><ul class="nav">
<li class=""><a href="#Filter-Identification0" title="Filter Identification">Filter Identification</a></li>
<li class=""><a href="#Filter-Inversion0" title="Filter Inversion">Filter Inversion</a></li>
<li class=""><a href="#Complete-Model" title="Complete Model">Complete Model</a></li>
<li class=""><a href="#End-to-End-CNN" title="End-to-End CNN">End-to-End CNN</a></li>
</ul>
</li>
<li class=""><a href="#ExperimentsResults" title="Experiments/Results">Experiments/Results</a><ul class="nav">
<li class=""><a href="#Filter-Identification" title="Filter Identification">Filter Identification</a></li>
<li class=""><a href="#Filter-Inversion" title="Filter Inversion">Filter Inversion</a></li>
<li class=""><a href="#Complete-Model1" title="Complete Model">Complete Model</a></li>
<li class=""><a href="#End-To-End-CNN" title="End-To-End CNN">End-To-End CNN</a></li>
</ul>
</li>
<li class=""><a href="#Qualitative-Results" title="Qualitative Results">Qualitative Results</a><ul class="nav">
<li class=""><a href="#Success-cases-Proper-Detection" title="Success cases (Proper Detection)">Success cases (Proper Detection)</a></li>
<li class=""><a href="#Failure-cases-Predicted-filter-in-parentheses" title="Failure cases (Predicted filter in parentheses)">Failure cases (Predicted filter in parentheses)</a></li>
</ul>
</li>
<li class=""><a href="#Conclusion-and-Future-Work" title="Conclusion and Future Work">Conclusion and Future Work</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;"  >
        <div class="toc"><ul class="nav">
<li class=""><a href="#Unfiltered-Automatic-Identification-and-Inversion-of-Social-Media-Photography-Filters" title="Unfiltered: Automatic Identification and Inversion of Social Media Photography Filters">Unfiltered: Automatic Identification and Inversion of Social Media Photography Filters</a><ul class="nav">
<li class=""><a href="#Abstract" title="Abstract">Abstract</a></li>
<li class=""><a href="#Teaser-Image" title="Teaser Image">Teaser Image</a></li>
<li class=""><a href="#Introduction" title="Introduction">Introduction</a></li>
<li class=""><a href="#Approach" title="Approach">Approach</a><ul class="nav">
<li class=""><a href="#Filter-Identification0" title="Filter Identification">Filter Identification</a></li>
<li class=""><a href="#Filter-Inversion0" title="Filter Inversion">Filter Inversion</a></li>
<li class=""><a href="#Complete-Model" title="Complete Model">Complete Model</a></li>
<li class=""><a href="#End-to-End-CNN" title="End-to-End CNN">End-to-End CNN</a></li>
</ul>
</li>
<li class=""><a href="#ExperimentsResults" title="Experiments/Results">Experiments/Results</a><ul class="nav">
<li class=""><a href="#Filter-Identification" title="Filter Identification">Filter Identification</a></li>
<li class=""><a href="#Filter-Inversion" title="Filter Inversion">Filter Inversion</a></li>
<li class=""><a href="#Complete-Model1" title="Complete Model">Complete Model</a></li>
<li class=""><a href="#End-To-End-CNN" title="End-To-End CNN">End-To-End CNN</a></li>
</ul>
</li>
<li class=""><a href="#Qualitative-Results" title="Qualitative Results">Qualitative Results</a><ul class="nav">
<li class=""><a href="#Success-cases-Proper-Detection" title="Success cases (Proper Detection)">Success cases (Proper Detection)</a></li>
<li class=""><a href="#Failure-cases-Predicted-filter-in-parentheses" title="Failure cases (Predicted filter in parentheses)">Failure cases (Predicted filter in parentheses)</a></li>
</ul>
</li>
<li class=""><a href="#Conclusion-and-Future-Work" title="Conclusion and Future Work">Conclusion and Future Work</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
